<script setup lang="ts">
const teacherIntroduction = `
Hi~ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å­åƒè€å¸«ï¼



æ­¡è¿è¯çµ¡æˆ‘äº†è§£æ›´å¤šèª²ç¨‹å…§å®¹å–” ğŸ˜Š
`;

function isElementInViewport(el) {
    const rect = el.getBoundingClientRect();
    return (
        rect.top < window.innerHeight &&
        rect.bottom > 0 &&
        rect.left < window.innerWidth &&
        rect.right > 0
    );
}

function handleScroll() {
    const elements = document.querySelectorAll('.code-block, .text-container.description, .education-summary');
    elements.forEach(el => {
        if (isElementInViewport(el)) {
            el.classList.add('in-view');
        } else {
            el.classList.remove('in-view');
        }
});

document.addEventListener('scroll', handleScroll);
document.addEventListener('DOMContentLoaded', handleScroll);

document.querySelectorAll('.copy-btn').forEach(button => {
    button.addEventListener('click', () => {
        const codeBlock = button.nextElementSibling;
        const range = document.createRange();
        range.selectNodeContents(codeBlock);
        const selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);

        try {
            document.execCommand('copy');
            button.textContent = 'Copied';
            setTimeout(() => {
                button.textContent = 'Copy Code';
            }, 1500);
        } catch (err) {
            console.error('Unable to copy', err);
        }

        selection.removeAllRanges();
    });
});
</script>

<template>
  <!-- Icon -->
  <div style="text-align: center;">
    <img src="../assets/Education.png" alt="Tutor Image" style="max-width: 20%; height: auto; display: inline-block; border-radius: 12px">
  </div>

  <!-- Introduction èªªæ˜ -->
  <div id="tutor-introduction">
    <h2>ç°¡ä»‹</h2>
    <p>{{ teacherIntroduction }}</p>

    <h5>ğŸ’¡ æ•™å­¸ç†å¿µ</h5>
    <ul>
      <li>é‡è¦–è˜‡æ ¼æ‹‰åº•å¼å•ç­”æ³•ï¼ˆSocratic Methodï¼‰ï¼Œé€éæå•å¼•å°å­¸ç”Ÿæ€è€ƒèˆ‡å°è©±</li>
      <li>å¾ç†è«–ï¼ˆå¥§è˜‡è²çˆ¾ Ausubelï¼šæœ‰æ„ç¾©å­¸ç¿’ï¼‰â­¢ ç¯„ä¾‹ï¼ˆç­æœæ‹‰ Banduraï¼šç¤¾æœƒå­¸ç¿’ç†è«–ï¼‰â­¢ å¯¦ä½œï¼ˆæœå¨ Deweyï¼šåšä¸­å­¸ï¼‰</li>
      <li></li>
    </ul>
    <div id="container">
      <a id="docs" href="https://tutor.sunnytseng.com/register" target="_blank">å®¶æ•™å ±å!</a>
    </div>
  </div>

  <!-- Flowchart -->
  <div class="flowchart-container">
    <div class="flowchart">
      <div class="dotted-line"></div>

      <!-- Step 1 -->
      <div class="step">
        <div class="code-container">
          <div class="step-circle">1</div>
          <div class="code-block">
            <button class="copy-btn">Copy</button>
            <pre><code class="language-text" style="text-align: center;">https://math.sunnytseng.com/</code></pre>
          </div>
        </div>
        <div class="text-container description">
          <h2>Step 1: æ¢ç´¢æˆ‘å€‘çš„æ•™å­¸å¹³å°</h2>
          <p>è¨ªå•æˆ‘å€‘çš„ç¶²ç«™ï¼Œäº†è§£å„ç¨®èª²ç¨‹å’Œæ•™å­¸è³‡æºã€‚</p>
          <ul>
            <li style="font-size: 12px; color: rgb(226, 151, 12);"><strong>æ›´å¤šé€£æ¥:</strong></li>
            <li style="color: rgb(241, 238, 230); text-align: center;">
              <strong>Math</strong> - ç™»å…¥å¸³å¯†
              <br />
              <code style="color: #d6336c; background-color: #2e2e2e; padding: 1px 3px; border-radius: 3px; font-family: 'Courier New', monospace; font-size: 0.85rem; display: inline-block; white-space: pre-wrap; word-break: break-word;">{å¸³è™Ÿ: guest; å¯†ç¢¼: guest}</code>
            </li>
          </ul>
        </div>
      </div>

      <!-- Step 2 -->
      <div class="step">
        <div class="code-container">
          <div class="step-circle">2</div>
          <div class="code-block">
            <button class="copy-btn">Copy</button>
            <pre><code class="language-bash">curl -X POST -H "Content-Type: application/json" -d "{\"subject\": \"Algebra\", \"level\": \"Grade 9\"}" https://tutor.sunnytseng.com/math</code></pre>
          </div>
        </div>
        <div class="text-container description">
          <h2>Step 2: ä½¿ç”¨ Curl æ¸¬è©¦èª²ç¨‹æŸ¥è©¢</h2>
          <p>æ‚¨å¯ä»¥ä½¿ç”¨ curl å‘½ä»¤ä¾†æŸ¥è©¢èª²ç¨‹è©³æƒ…ã€‚ä¾‹å¦‚ï¼ŒæŸ¥è©¢æ•¸å­¸èª²ç¨‹å¦‚ä¸‹ï¼š</p>
          <p>ç¢ºä¿ä½¿ç”¨æ­£ç¢ºçš„ HTTP æ–¹æ³•å’Œæ¨™é ­ä»¥èˆ‡å¹³å°æ­£å¸¸é€šä¿¡ã€‚</p>
        </div>
      </div>

      <!-- Step 3 -->
      <div class="step">
        <div class="code-container">
          <div class="step-circle">3</div>
          <div class="code-block">
            <button class="copy-btn">Copy</button>
            <pre><code class="language-python">import requests
import json

url = "https://tutor.sunnytseng.com/math"
payload = {
    "subject": "Algebra",
    "level": "Grade 9"
}
headers = {"Content-Type": "application/json"}

response = requests.post(url, data=json.dumps(payload), headers=headers)
if response.status_code == 200:
    print(response.json())
else:
    print(f"Error: {response.status_code} - {response.text}")</code></pre>
          </div>
        </div>
        <div class="text-container description">
          <h2>Step 3: Python èª²ç¨‹æŸ¥è©¢ç¯„ä¾‹</h2>
          <p>ä»¥ä¸‹æ˜¯å¦‚ä½•ä½¿ç”¨ Python çš„ requests æ¨¡çµ„æŸ¥è©¢èª²ç¨‹çš„ç¯„ä¾‹ï¼š</p>
          <p>æ‚¨å¯ä»¥æ ¹æ“šéœ€è¦èª¿æ•´èª²ç¨‹é¡å‹å’Œåƒæ•¸ä»¥ç²å–ä¸åŒèª²ç¨‹è³‡è¨Šã€‚</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Bulletin Board -->
  <div class="container" id="tutor-announcements">
    <h3>æ•™å­¸å…¬å‘Š</h3>
  </div>

  <!-- Summary -->
  <div class="education-summary">
    <h2>æ›´å¤šèª²ç¨‹</h2>
    <ul>
      <li><strong>å‰ä»–èª²ç¨‹</strong> - XXX</li>
      <li><strong>é­”è¡“èª²ç¨‹</strong> - XXX</li>
    </ul>
  </div>
</template>

