import{d as M,r as h,i as B,j as R,c as r,a as t,k as x,n as Y,l as m,m as U,p as y,o,e as k,_ as C,f as W,q as w,t as g,F as $,s as F,h as j,x as H}from"./index-CBJXoaxL.js";const P={class:"navbar"},q=["aria-expanded"],O={key:0,class:"nav-links"},G=M({__name:"HamburgerButton",setup(v){const a=h(!1),i=h(window.innerWidth>=768),d=()=>{a.value=!a.value},c=()=>{i.value=window.innerWidth>=768};return B(()=>{c(),window.addEventListener("resize",c)}),R(()=>{window.removeEventListener("resize",c)}),(s,n)=>{const l=U("RouterLink");return o(),r("nav",P,[t("button",{class:Y(["menu-icon",{active:a.value}]),onClick:d,"aria-label":"ÂàáÊèõÈÅ∏ÂñÆ","aria-expanded":a.value.toString()},n[0]||(n[0]=[t("span",{class:"bar top"},null,-1),t("span",{class:"bar middle"},null,-1),t("span",{class:"bar bottom"},null,-1)]),10,q),a.value||i.value?(o(),r("ul",O,[t("li",null,[m(l,{to:"/"},{default:y(()=>n[1]||(n[1]=[k("È¶ñÈ†Å",-1)])),_:1,__:[1]})]),t("li",null,[m(l,{to:"/login"},{default:y(()=>n[2]||(n[2]=[k("Â∏≥ËôüÁôªÂÖ•",-1)])),_:1,__:[2]})]),t("li",null,[m(l,{to:{name:"StudentProgress"}},{default:y(()=>n[3]||(n[3]=[k("Â≠∏ÁøíÁãÄÊ≥Å",-1)])),_:1,__:[3]})]),t("li",null,[m(l,{to:{name:"CourseIntro"}},{default:y(()=>n[4]||(n[4]=[k("Ë™≤Á®ã‰ªãÁ¥π",-1)])),_:1,__:[4]})])])):x("",!0)])}}}),J=C(G,[["__scopeId","data-v-33f0fc4d"]]),K="https://home.sunnytseng.com/api/tutor/calendar/",L=W("calendar",()=>{const v=h([]),a=h(!1),i=s=>`${s.getFullYear()}-${(s.getMonth()+1).toString().padStart(2,"0")}-${s.getDate().toString().padStart(2,"0")}`;return{events:v,loading:a,getEventByDate:s=>v.value.filter(n=>{const l=new Date(n.datetime);return i(l)===s}),loadEvents:async()=>{a.value=!0;try{const s=await fetch(K);if(!s.ok)throw new Error("Failed to load event data");const n=await s.json();v.value=n}catch(s){console.error("An error occurred while loading calendar events:",s)}finally{a.value=!1}}}}),Q={class:"calendar-container"},X={key:0,class:"loading-overlay"},Z={key:1},ee={class:"calendar-header"},te={class:"calendar-grid"},ne=["onClick"],ae={key:0},se={key:0},oe={key:1},le=M({__name:"ScheduleCalendar",emits:["select-date"],setup(v,{emit:a}){const i=L(),d=h(!0),c=a;B(async()=>{try{await i.loadEvents()}catch(e){console.error("Failed to load events:",e),alert("Unable to load events, please try again later!")}finally{d.value=!1}});const s=new Date,n=h(new Date),l=w(()=>n.value.getFullYear()),f=w(()=>n.value.getMonth()),D=["Êó•","‰∏Ä","‰∫å","‰∏â","Âõõ","‰∫î","ÂÖ≠"],b=e=>`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`,I=w(()=>{const e=l.value,_=f.value,u=new Date(e,_,1),E=new Date(e,_+1,0),S=[];for(let p=0;p<u.getDay();p++)S.push(null);for(let p=1;p<=E.getDate();p++)S.push(new Date(e,_,p));return S}),N=e=>e?e.getFullYear()===s.getFullYear()&&e.getMonth()===s.getMonth()&&e.getDate()===s.getDate():!1,z=e=>{if(!e)return!1;const _=b(e);return i.getEventByDate(_).length>0},A=()=>{const e=new Date(n.value);e.setMonth(e.getMonth()-1),n.value=e},T=()=>{const e=new Date(n.value);e.setMonth(e.getMonth()+1),n.value=e},V=e=>{c("select-date",e)};return(e,_)=>(o(),r("div",Q,[d.value?(o(),r("div",X,_[0]||(_[0]=[t("span",{class:"loading-text"},"Loading...",-1)]))):(o(),r("div",Z,[t("div",ee,[t("button",{onClick:A},"‚Äπ"),t("h2",null,g(l.value)+" Âπ¥ "+g(f.value+1)+" Êúà",1),t("button",{onClick:T},"‚Ä∫")]),t("div",te,[(o(),r($,null,F(D,u=>t("div",{class:"day-name",key:u},g(u),1)),64)),(o(!0),r($,null,F(I.value,(u,E)=>(o(),r("div",{class:Y(["day-cell",{today:N(u)}]),key:E,onClick:S=>u&&V(u)},[u?(o(),r("div",ae,[t("div",null,g(u.getDate()),1),z(u)?(o(),r("div",se,"‚òëÔ∏è")):x("",!0)])):(o(),r("div",oe,"¬†"))],10,ne))),128))])]))]))}}),re=C(le,[["__scopeId","data-v-f795518a"]]),ce={class:"schedule-container"},ie={class:"schedule-header"},ue={class:"schedule-content"},de={key:0,class:"loading"},ve={key:1,class:"no-events"},_e={key:2,class:"event-list"},ge={class:"event-time"},he={class:"event-title"},pe=M({__name:"DailySchedule",props:{date:{}},emits:["close"],setup(v,{emit:a}){const i=v,d=L(),c=l=>`${l.getFullYear()}-${(l.getMonth()+1).toString().padStart(2,"0")}-${l.getDate().toString().padStart(2,"0")}`,s=w(()=>d.getEventByDate(c(i.date))),n=l=>new Date(l).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(l,f)=>(o(),r("div",ce,[t("div",ie,[t("h2",null,g(c(l.date))+" Ë°åÁ®ã",1),t("button",{class:"close-button",onClick:f[0]||(f[0]=D=>l.$emit("close"))},"‚úï")]),t("div",ue,[j(d).loading?(o(),r("div",de,"ËºâÂÖ•‰∏≠...")):s.value.length===0?(o(),r("div",ve,"Ë©≤Êó•ÁÑ°Ë°åÁ®ã")):(o(),r("ul",_e,[(o(!0),r($,null,F(s.value,(D,b)=>(o(),r("li",{key:b,class:"event-item"},[t("span",ge,g(n(D.datetime)),1),t("span",he,"üìò "+g(D.title),1)]))),128))]))])]))}}),me=C(pe,[["__scopeId","data-v-30c6c48f"]]),fe={class:"main-content schedule-section"},De=M({__name:"StudentArea",setup(v){const a=h(null),i=c=>{a.value&&a.value.getFullYear()===c.getFullYear()&&a.value.getMonth()===c.getMonth()&&a.value.getDate()===c.getDate()?a.value=null:a.value=c},d=()=>{a.value=null};return(c,s)=>(o(),r($,null,[m(J),t("section",fe,[s[0]||(s[0]=t("div",{id:"BannerWrapper"},[t("h1",{class:"title"},"È†êÁ¥ÑÊôÇÊÆµ")],-1)),m(re,{onSelectDate:i}),a.value?(o(),H(me,{key:0,date:a.value,onClose:d},null,8,["date"])):x("",!0)])],64))}}),ye=C(De,[["__scopeId","data-v-e5d9453d"]]);export{ye as default};
