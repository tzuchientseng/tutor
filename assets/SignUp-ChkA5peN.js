import{f,d,c as p,a as e,w as c,g as i,v as a,h as s,t as b,o as g}from"./index-BGm1_9Hz.js";import{S as l}from"./sweetalert2.esm.all-BQIkj5Wb.js";const h="https://home.sunnytseng.com/api/tutor",S=f("signUp",{state:()=>({form:{name:"",phone:"",email:""},submitting:!1}),actions:{async submitForm(){this.submitting=!0;try{const n=await fetch(`${h}/registration/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)});if(!n.ok){const o=await n.json();return console.error("API Error:",o),!1}return this.form.name="",this.form.phone="",this.form.email="",!0}catch(n){return console.error("Network error:",n),!1}finally{this.submitting=!1}}}}),y={class:"container mt-5"},v={class:"signup-form"},w=["disabled"],B=d({__name:"SignUp",setup(n){const o=S(),m=async()=>{await o.submitForm()?l.fire({icon:"success",title:"報名成功！",text:"我們將盡快與您聯繫，謝謝您。",confirmButtonColor:"#28a745"}):l.fire({icon:"error",title:"報名失敗",text:"請確認資料填寫正確，或稍後再試一次。",confirmButtonColor:"#dc3545"})};return(u,t)=>(g(),p("div",y,[e("div",v,[t[6]||(t[6]=e("h1",null,"家教報名表單",-1)),e("form",{onSubmit:c(m,["prevent"])},[e("div",null,[t[3]||(t[3]=e("label",{for:"name"},"姓名",-1)),i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>s(o).form.name=r),id:"name",required:""},null,512),[[a,s(o).form.name]])]),e("div",null,[t[4]||(t[4]=e("label",{for:"phone"},"手機",-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>s(o).form.phone=r),id:"phone",required:""},null,512),[[a,s(o).form.phone]])]),e("div",null,[t[5]||(t[5]=e("label",{for:"email"},"Email",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=r=>s(o).form.email=r),id:"email",required:""},null,512),[[a,s(o).form.email]])]),e("button",{class:"btn btn-success mt-3",type:"submit",disabled:s(o).submitting},b(s(o).submitting?"送出中...":"送出"),9,w)],32)])]))}});export{B as default};
